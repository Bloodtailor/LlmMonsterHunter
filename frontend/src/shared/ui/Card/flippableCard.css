/* Flippable Card Styles - REUSABLE COMPONENT */
/* 3D flip animation with smooth transitions and hover effects */
/* Uses unified CARD_SIZES system (sm, md, lg, xl) and theme CSS variables */

/* Card Container - maintains perspective for 3D effect */
.flippable-card-container {
  perspective: 1000px;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

/* ===== SIZE VARIANTS - UNIFIED SYSTEM ===== */

.flippable-card-sm {
  width: var(--card-width-sm);
  height: var(--card-height-sm);
}

.flippable-card-md {
  width: var(--card-width-md);
  height: var(--card-height-md);
}

.flippable-card-lg {
  width: var(--card-width-lg);
  height: var(--card-height-lg);
}

.flippable-card-xl {
  width: var(--card-width-xl);
  height: var(--card-height-xl);
}

/* ===== CARD ANIMATION & EFFECTS ===== */

/* Main Card - contains both front and back */
.flippable-card {
  position: relative;
  width: 100%;
  height: 100%;
  cursor: pointer;
  transform-style: preserve-3d;
  transition: transform 0.6s ease-in-out;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
}

/* Flip Animation */
.flippable-card.flipped {
  transform: rotateY(180deg);
}

/* Hover Effect - slight lift when not flipped */
.flippable-card:not(.disabled):not(.flipped):hover {
  box-shadow: var(--shadow-lg);
}

/* Disabled state */
.flippable-card.disabled {
  cursor: not-allowed;
  opacity: var(--opacity-disabled);
}

/* ===== CARD FACES ===== */

/* Card Faces - both front and back */
.card-front,
.card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: var(--radius-lg);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Front Face */
.card-front {
  background: var(--background-medium);
  border: 2px solid var(--background-light);
}

/* Back Face - rotated 180 degrees initially */
.card-back {
  background: var(--background-dark);
  border: 2px solid var(--primary-color);
  transform: rotateY(180deg);
}

/* ===== FLIP INDICATOR ===== */

.flip-indicator {
  text-align: center;
  margin-top: var(--spacing-xs);
}

.flip-hint {
  font-size: 12px;
  color: var(--text-dim);
  opacity: 0.7;
  transition: opacity var(--transition-normal);
}

.flippable-card-container:hover .flip-hint {
  opacity: 1;
  color: var(--accent-color);
}

/* Hide flip indicator for xl (fullscreen) cards */
.flippable-card-xl .flip-indicator {
  display: none;
}

/* ===== RESPONSIVE DESIGN ===== */

@media (max-width: 768px) {
  .flippable-card-md {
    width: 280px;
    height: 390px;
  }
  
  .flippable-card-lg {
    width: 320px;
    height: 450px;
  }

  .flippable-card-xl {
    width: min(500px, 95vw);
    height: min(700px, 80vh); /* Maintains 5:7 aspect ratio */
  }
}

@media (max-width: 480px) {
  .flippable-card-sm {
    width: 160px;
    height: 220px;
  }
  
  .flippable-card-md {
    width: 240px;
    height: 340px;
  }
  
  .flippable-card-lg {
    width: 280px;
    height: 390px;
  }
  
  .flippable-card-xl {
    width: min(400px, 98vw);
    height: min(560px, 75vh); /* Maintains 5:7 aspect ratio */
  }
}